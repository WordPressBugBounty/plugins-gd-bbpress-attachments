function NoJQueryPostMessageMixin(n,e){var i,o,s,a,r,c=1;return window.postMessage?(o=window.addEventListener?(i=function(n){window.addEventListener("message",n,!1)},function(n){window.removeEventListener("message",n,!1)}):(i=function(n){window.attachEvent("onmessage",n)},function(n){window.detachEvent("onmessage",n)}),this[n]=function(n,e,t){e&&t.postMessage(n,e.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))},this[e]=function(e,t,n){if(s&&(o(s),s=null),!e)return!1;s=i(function(n){switch(Object.prototype.toString.call(t)){case"[object String]":if(t!==n.origin)return!1;break;case"[object Function]":if(t(n.origin))return!1}e(n)})}):(this[n]=function(n,e,t){e&&(t.location=e.replace(/#.*$/,"")+"#"+ +new Date+c+++"&"+n)},this[e]=function(t,n,e){a&&(clearInterval(a),a=null),t&&(e="number"==typeof n?n:"number"==typeof e?e:100,a=setInterval(function(){var n=document.location.hash,e=/^#?\d+&/;n!==r&&e.test(n)&&t({data:(r=n).replace(e,"")})},e))}),this}